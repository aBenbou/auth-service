[2025-05-13 11:05:02,573] [Request ID: no-request-id] INFO - Checking permissions ['role:read'] for service 3ecdee99-4314-4439-bca9-ad92f111f9c9 (decorators.py:76)
[2025-05-13 11:05:02,582] [Request ID: no-request-id] ERROR - Permission check failed: (psycopg2.errors.InvalidTextRepresentation) invalid input syntax for type integer: "3ecdee99-4314-4439-bca9-ad92f111f9c9"
LINE 3: ...s.user_id = 4 AND user_service_roles.service_id = '3ecdee99-...
                                                             ^

[SQL: SELECT user_service_roles.id AS user_service_roles_id, user_service_roles.user_id AS user_service_roles_user_id, user_service_roles.service_id AS user_service_roles_service_id, user_service_roles.role_id AS user_service_roles_role_id, user_service_roles.created_at AS user_service_roles_created_at 
FROM user_service_roles 
WHERE user_service_roles.user_id = %(user_id_1)s AND user_service_roles.service_id = %(service_id_1)s]
[parameters: {'user_id_1': 4, 'service_id_1': '3ecdee99-4314-4439-bca9-ad92f111f9c9'}]
(Background on this error at: https://sqlalche.me/e/20/9h9h) (decorators.py:87)
[2025-05-13 11:11:38,265] [Request ID: N/A] INFO - Successfully connected to Redis (redis_service.py:33)
[2025-05-13 11:11:38,325] [Request ID: N/A] INFO - Database initialization completed successfully (__init__.py:105)
[2025-05-13 11:11:47,750] [Request ID: no-request-id] INFO - Trying to get service_id from URL parameters: {'user_id': '3751881e-ee90-447d-8c29-3a8f91d6b60f', 'service_id': '3ecdee99-4314-4439-bca9-ad92f111f9c9'} (decorators.py:45)
[2025-05-13 11:11:47,751] [Request ID: no-request-id] INFO - Checking permissions ['role:read'] for service 3ecdee99-4314-4439-bca9-ad92f111f9c9 (decorators.py:76)
[2025-05-13 11:11:47,758] [Request ID: no-request-id] ERROR - Permission check failed: Insufficient permissions (decorators.py:87)
[2025-05-13 11:12:06,200] [Request ID: no-request-id] INFO - User login attempt (auth.py:114)
[2025-05-13 11:12:07,459] [Request ID: no-request-id] INFO - Login successful for user: aymane.benbouzid@gmail.com (auth.py:128)
[2025-05-13 11:12:49,382] [Request ID: no-request-id] INFO - Trying to get service_id from URL parameters: {'user_id': '3751881e-ee90-447d-8c29-3a8f91d6b60f', 'service_id': '3ecdee99-4314-4439-bca9-ad92f111f9c9'} (decorators.py:45)
[2025-05-13 11:12:49,382] [Request ID: no-request-id] INFO - Checking permissions ['role:read'] for service 3ecdee99-4314-4439-bca9-ad92f111f9c9 (decorators.py:76)
[2025-05-13 11:12:49,385] [Request ID: no-request-id] ERROR - Permission check failed: Insufficient permissions (decorators.py:87)
[2025-05-13 11:22:15,635] [Request ID: no-request-id] INFO - Trying to get service_id from URL parameters: {} (decorators.py:45)
[2025-05-13 11:22:15,637] [Request ID: no-request-id] INFO - Trying to get service from endpoint: roles.create_service_route (decorators.py:52)
[2025-05-13 11:22:15,637] [Request ID: no-request-id] INFO - Using auth_service for roles blueprint (decorators.py:56)
[2025-05-13 11:22:15,639] [Request ID: no-request-id] INFO - Found auth_service with ID: 1 (decorators.py:60)
[2025-05-13 11:22:15,640] [Request ID: no-request-id] INFO - Checking permissions ['service:write'] for service 1 (decorators.py:76)
[2025-05-13 11:23:26,660] [Request ID: no-request-id] INFO - Trying to get service_id from URL parameters: {'user_id': '3751881e-ee90-447d-8c29-3a8f91d6b60f', 'service_id': '0ab4f69b-9803-4315-ab8f-c733ba1bfd15'} (decorators.py:45)
[2025-05-13 11:23:26,660] [Request ID: no-request-id] INFO - Checking permissions ['role:read'] for service 0ab4f69b-9803-4315-ab8f-c733ba1bfd15 (decorators.py:76)
[2025-05-13 11:23:26,669] [Request ID: no-request-id] INFO - Fetching roles for user 3751881e-ee90-447d-8c29-3a8f91d6b60f and service 0ab4f69b-9803-4315-ab8f-c733ba1bfd15 (roles.py:32)
[2025-05-13 11:29:24,501] [Request ID: no-request-id] INFO - Trying to get service_id from URL parameters: {'service_id': '0ab4f69b-9803-4315-ab8f-c733ba1bfd15'} (decorators.py:45)
[2025-05-13 11:29:24,502] [Request ID: no-request-id] INFO - Checking permissions ['role:read'] for service 0ab4f69b-9803-4315-ab8f-c733ba1bfd15 (decorators.py:76)
[2025-05-13 11:29:24,511] [Request ID: no-request-id] INFO - Fetching roles for service 0ab4f69b-9803-4315-ab8f-c733ba1bfd15 (roles.py:175)
[2025-05-13 11:32:12,553] [Request ID: no-request-id] INFO - Trying to get service_id from URL parameters: {} (decorators.py:45)
[2025-05-13 11:32:12,554] [Request ID: no-request-id] INFO - Trying to get service from endpoint: roles.get_services (decorators.py:52)
[2025-05-13 11:32:12,555] [Request ID: no-request-id] INFO - Using auth_service for roles blueprint (decorators.py:56)
[2025-05-13 11:32:12,556] [Request ID: no-request-id] INFO - Found auth_service with ID: 1 (decorators.py:60)
[2025-05-13 11:32:12,556] [Request ID: no-request-id] INFO - Checking permissions ['service:read'] for service 1 (decorators.py:76)
[2025-05-13 11:34:51,656] [Request ID: no-request-id] INFO - Trying to get service_id from URL parameters: {'user_id': '3751881e-ee90-447d-8c29-3a8f91d6b60f', 'service_id': '0ab4f69b-9803-4315-ab8f-c733ba1bfd15', 'role_id': '1'} (decorators.py:45)
[2025-05-13 11:34:51,657] [Request ID: no-request-id] INFO - Checking permissions ['role:write'] for service 0ab4f69b-9803-4315-ab8f-c733ba1bfd15 (decorators.py:76)
[2025-05-13 11:34:51,666] [Request ID: no-request-id] INFO - Assigning role 1 to user 3751881e-ee90-447d-8c29-3a8f91d6b60f for service 0ab4f69b-9803-4315-ab8f-c733ba1bfd15 (roles.py:56)
[2025-05-13 11:34:57,133] [Request ID: no-request-id] INFO - Trying to get service_id from URL parameters: {'user_id': '3751881e-ee90-447d-8c29-3a8f91d6b60f', 'service_id': '0ab4f69b-9803-4315-ab8f-c733ba1bfd15', 'role_id': '2'} (decorators.py:45)
[2025-05-13 11:34:57,134] [Request ID: no-request-id] INFO - Checking permissions ['role:write'] for service 0ab4f69b-9803-4315-ab8f-c733ba1bfd15 (decorators.py:76)
[2025-05-13 11:34:57,143] [Request ID: no-request-id] INFO - Assigning role 2 to user 3751881e-ee90-447d-8c29-3a8f91d6b60f for service 0ab4f69b-9803-4315-ab8f-c733ba1bfd15 (roles.py:56)
[2025-05-13 11:41:02,638] [Request ID: no-request-id] INFO - Trying to get service_id from URL parameters: {'user_id': '3751881e-ee90-447d-8c29-3a8f91d6b60f', 'service_id': '3ecdee99-4314-4439-bca9-ad92f111f9c9', 'role_id': '1'} (decorators.py:45)
[2025-05-13 11:41:02,639] [Request ID: no-request-id] INFO - Checking permissions ['role:write'] for service 3ecdee99-4314-4439-bca9-ad92f111f9c9 (decorators.py:76)
[2025-05-13 11:41:02,640] [Request ID: no-request-id] ERROR - Permission check failed: Insufficient permissions (decorators.py:87)
[2025-05-13 11:41:22,820] [Request ID: no-request-id] INFO - Trying to get service_id from URL parameters: {'user_id': '3751881e-ee90-447d-8c29-3a8f91d6b60f', 'service_id': '0ab4f69b-9803-4315-ab8f-c733ba1bfd15', 'role_id': '1'} (decorators.py:45)
[2025-05-13 11:41:22,820] [Request ID: no-request-id] INFO - Checking permissions ['role:write'] for service 0ab4f69b-9803-4315-ab8f-c733ba1bfd15 (decorators.py:76)
[2025-05-13 11:41:22,831] [Request ID: no-request-id] INFO - Assigning role 1 to user 3751881e-ee90-447d-8c29-3a8f91d6b60f for service 0ab4f69b-9803-4315-ab8f-c733ba1bfd15 (roles.py:56)
[2025-05-13 11:41:26,389] [Request ID: no-request-id] INFO - Trying to get service_id from URL parameters: {'user_id': '3751881e-ee90-447d-8c29-3a8f91d6b60f', 'service_id': '0ab4f69b-9803-4315-ab8f-c733ba1bfd15', 'role_id': '2'} (decorators.py:45)
[2025-05-13 11:41:26,390] [Request ID: no-request-id] INFO - Checking permissions ['role:write'] for service 0ab4f69b-9803-4315-ab8f-c733ba1bfd15 (decorators.py:76)
[2025-05-13 11:41:26,400] [Request ID: no-request-id] INFO - Assigning role 2 to user 3751881e-ee90-447d-8c29-3a8f91d6b60f for service 0ab4f69b-9803-4315-ab8f-c733ba1bfd15 (roles.py:56)
[2025-05-13 11:41:30,311] [Request ID: no-request-id] INFO - Trying to get service_id from URL parameters: {'user_id': '3751881e-ee90-447d-8c29-3a8f91d6b60f', 'service_id': '0ab4f69b-9803-4315-ab8f-c733ba1bfd15', 'role_id': '3'} (decorators.py:45)
[2025-05-13 11:41:30,312] [Request ID: no-request-id] INFO - Checking permissions ['role:write'] for service 0ab4f69b-9803-4315-ab8f-c733ba1bfd15 (decorators.py:76)
[2025-05-13 11:41:30,322] [Request ID: no-request-id] INFO - Assigning role 3 to user 3751881e-ee90-447d-8c29-3a8f91d6b60f for service 0ab4f69b-9803-4315-ab8f-c733ba1bfd15 (roles.py:56)
[2025-05-13 11:41:34,204] [Request ID: no-request-id] INFO - Trying to get service_id from URL parameters: {'user_id': '3751881e-ee90-447d-8c29-3a8f91d6b60f', 'service_id': '0ab4f69b-9803-4315-ab8f-c733ba1bfd15', 'role_id': '4'} (decorators.py:45)
[2025-05-13 11:41:34,205] [Request ID: no-request-id] INFO - Checking permissions ['role:write'] for service 0ab4f69b-9803-4315-ab8f-c733ba1bfd15 (decorators.py:76)
[2025-05-13 11:41:34,216] [Request ID: no-request-id] INFO - Assigning role 4 to user 3751881e-ee90-447d-8c29-3a8f91d6b60f for service 0ab4f69b-9803-4315-ab8f-c733ba1bfd15 (roles.py:56)
[2025-05-13 11:41:38,069] [Request ID: no-request-id] INFO - Trying to get service_id from URL parameters: {'user_id': '3751881e-ee90-447d-8c29-3a8f91d6b60f', 'service_id': '0ab4f69b-9803-4315-ab8f-c733ba1bfd15', 'role_id': '5'} (decorators.py:45)
[2025-05-13 11:41:38,070] [Request ID: no-request-id] INFO - Checking permissions ['role:write'] for service 0ab4f69b-9803-4315-ab8f-c733ba1bfd15 (decorators.py:76)
[2025-05-13 11:41:38,084] [Request ID: no-request-id] INFO - Assigning role 5 to user 3751881e-ee90-447d-8c29-3a8f91d6b60f for service 0ab4f69b-9803-4315-ab8f-c733ba1bfd15 (roles.py:56)
[2025-05-13 11:41:42,088] [Request ID: no-request-id] INFO - Trying to get service_id from URL parameters: {'user_id': '3751881e-ee90-447d-8c29-3a8f91d6b60f', 'service_id': '0ab4f69b-9803-4315-ab8f-c733ba1bfd15', 'role_id': '6'} (decorators.py:45)
